CREATE TABLE EMPREGADO ( 
  EMP_MATRICULA INTEGER  NOT NULL, 
  EMP_NOME  varchar(50) NOT NULL, 
  EMP_SEXO CHAR(1) , 
  PRIMARY KEY(EMP_MATRICULA) 
); 

CREATE TABLE FREQUENCIA ( 
  EMP_MATRICULA INTEGER  NOT NULL, 
  FREQ_DATA DATE  NOT NULL, 
  FREQ_HORA_ENTRADA VARCHAR(5), 
  FREQ_HORA_SAIDA VARCHAR(5), 
  FREQ_HORAS_EXCEDENTES REAL, 
  FREQ_HORAS_NOTURNAS REAL,
  FREQ_OBS VARCHAR(100),  
  PRIMARY KEY(EMP_MATRICULA,FREQ_DATA) 
);

CREATE TABLE BANCO_HORAS ( 
  BAN_ANO INTEGER  NOT NULL, 
  BAN_MES INTEGER  NOT NULL, 
  EMP_MATRICULA INTEGER  NOT NULL,
  BAN_TOTAL_HORAS REAL, 
  PRIMARY KEY(BAN_ANO, BAN_MES,EMP_MATRICULA) 
); 

CREATE TABLE PERIODO ( 
  PER_ANO INTEGER NOT NULL, 
  PER_MES INTEGER  NOT NULL, 
  PRIMARY KEY(PER_ANO,PER_MES) 
); 

CREATE TABLE FERIADO ( 
  FER_DATA DATE  NOT NULL, 
  FER_DESCRICAO CHAR(30) , 
  PRIMARY KEY(FER_DATA) 
);


ALTER TABLE FREQUENCIA ADD CONSTRAINT FK_frequencia_1 FOREIGN KEY (EMP_MATRICULA)
    REFERENCES EMPREGADO (EMP_MATRICULA)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE BANCO_HORAS ADD CONSTRAINT FK_banco_1 FOREIGN KEY (EMP_MATRICULA)
    REFERENCES EMPREGADO (EMP_MATRICULA)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
